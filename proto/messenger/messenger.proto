syntax = "proto3";

package messenger;

option go_package = "github.com/ava-labs/avalanchego/proto/pb/messenger";

service Messenger {
  rpc Notify(stream Event) returns (stream EventRequest);
}

enum Message {
  MESSAGE_UNSPECIFIED = 0;
  MESSAGE_BUILD_BLOCK = 1;
  MESSAGE_STATE_SYNC_FINISHED = 2;
}

message EventRequest {
  oneof event {
    bool start = 1;
    bool stop = 2;
  }
}

message Event {
  Message message = 1;
}
