// Copyright (C) 2019-2024, Ava Labs, Inc. All rights reserved.
// See the file LICENSE for licensing terms.

package main

import (
	"encoding/json"
	"fmt"

	"github.com/ava-labs/avalanchego/utils/formatting"
	"github.com/ava-labs/avalanchego/vms/platformvm/txs"
)

const txHex = "0x000000000022000000050000000000000000000000000000000000000000000000000000000000000000000000023d9bdac0ed1d761330cf680efdeb1a42159eb387d6d2950c96f7d28f61bbe2aa00000007000000003e7944a700000000000000000000000100000001ebe5bd0de839310a551c9a84673466148defab6c3d9bdac0ed1d761330cf680efdeb1a42159eb387d6d2950c96f7d28f61bbe2aa000000160000000000000001000000070000000000000064000000000000000000000001000000014c72ff84b0ff361b80944b3db9a1d8421402d14600000004ce6003d99e1a0d7b63928dc4b3ad993dc2f15a8602ec78c68c63e319a7f23b89000000003d9bdac0ed1d761330cf680efdeb1a42159eb387d6d2950c96f7d28f61bbe2aa000000050000000008d500f90000000100000000ce6003d99e1a0d7b63928dc4b3ad993dc2f15a8602ec78c68c63e319a7f23b89000000013d9bdac0ed1d761330cf680efdeb1a42159eb387d6d2950c96f7d28f61bbe2aa000000050000000011e1a3000000000100000000ce6003d99e1a0d7b63928dc4b3ad993dc2f15a8602ec78c68c63e319a7f23b89000000023d9bdac0ed1d761330cf680efdeb1a42159eb387d6d2950c96f7d28f61bbe2aa000000050000000011e1a3000000000100000000ce6003d99e1a0d7b63928dc4b3ad993dc2f15a8602ec78c68c63e319a7f23b89000000033d9bdac0ed1d761330cf680efdeb1a42159eb387d6d2950c96f7d28f61bbe2aa000000050000000011e1a300000000010000000000000000658be05b"

func main() {
	txBytes, err := formatting.Decode(formatting.Hex, txHex)
	if err != nil {
		panic(err)
	}

	var tx txs.UnsignedTx
	_, err = txs.Codec.Unmarshal(txBytes, &tx)
	if err != nil {
		panic(err)
	}

	txJSON, err := json.MarshalIndent(tx, "", "  ")
	if err != nil {
		panic(err)
	}

	fmt.Println(string(txJSON))
}
